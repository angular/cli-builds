"use strict";
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.addCommandModuleToYargs = exports.demandCommandFailureMessage = void 0;
exports.demandCommandFailureMessage = `You need to specify a command before moving on. Use '--help' to view the available commands.`;
function addCommandModuleToYargs(localYargs, commandModule, context) {
    const cmd = new commandModule(context);
    const describe = context.args.options.jsonHelp ? cmd.fullDescribe : cmd.describe;
    return localYargs.command({
        command: cmd.command,
        aliases: cmd.aliases,
        describe: 
        // We cannot add custom fields in help, such as long command description which is used in AIO.
        // Therefore, we get around this by adding a complex object as a string which we later parse when generating the help files.
        typeof describe === 'object' ? JSON.stringify(describe) : describe,
        deprecated: cmd.deprecated,
        builder: (argv) => cmd.builder(argv),
        handler: (args) => cmd.handler(args),
    });
}
exports.addCommandModuleToYargs = addCommandModuleToYargs;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL2FuZ3VsYXIvY2xpL3NyYy9jb21tYW5kLWJ1aWxkZXIvdXRpbGl0aWVzL2NvbW1hbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBOzs7Ozs7R0FNRzs7O0FBS1UsUUFBQSwyQkFBMkIsR0FBRyw4RkFBOEYsQ0FBQztBQUUxSSxTQUFnQix1QkFBdUIsQ0FLckMsVUFBbUIsRUFBRSxhQUFnQixFQUFFLE9BQXVCO0lBQzlELE1BQU0sR0FBRyxHQUFHLElBQUksYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3ZDLE1BQU0sUUFBUSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQztJQUVqRixPQUFPLFVBQVUsQ0FBQyxPQUFPLENBQUM7UUFDeEIsT0FBTyxFQUFFLEdBQUcsQ0FBQyxPQUFPO1FBQ3BCLE9BQU8sRUFBRSxHQUFHLENBQUMsT0FBTztRQUNwQixRQUFRO1FBQ04sOEZBQThGO1FBQzlGLDRIQUE0SDtRQUM1SCxPQUFPLFFBQVEsS0FBSyxRQUFRLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVE7UUFDcEUsVUFBVSxFQUFFLEdBQUcsQ0FBQyxVQUFVO1FBQzFCLE9BQU8sRUFBRSxDQUFDLElBQUksRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQVk7UUFDL0MsT0FBTyxFQUFFLENBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztLQUNyQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBcEJELDBEQW9CQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCBHb29nbGUgTExDIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlIGxpY2Vuc2UgdGhhdCBjYW4gYmVcbiAqIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgYXQgaHR0cHM6Ly9hbmd1bGFyLmlvL2xpY2Vuc2VcbiAqL1xuXG5pbXBvcnQgeyBBcmd2IH0gZnJvbSAneWFyZ3MnO1xuaW1wb3J0IHsgQ29tbWFuZENvbnRleHQsIENvbW1hbmRNb2R1bGUsIENvbW1hbmRNb2R1bGVJbXBsZW1lbnRhdGlvbiB9IGZyb20gJy4uL2NvbW1hbmQtbW9kdWxlJztcblxuZXhwb3J0IGNvbnN0IGRlbWFuZENvbW1hbmRGYWlsdXJlTWVzc2FnZSA9IGBZb3UgbmVlZCB0byBzcGVjaWZ5IGEgY29tbWFuZCBiZWZvcmUgbW92aW5nIG9uLiBVc2UgJy0taGVscCcgdG8gdmlldyB0aGUgYXZhaWxhYmxlIGNvbW1hbmRzLmA7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDb21tYW5kTW9kdWxlVG9ZYXJnczxcbiAgVCxcbiAgVSBleHRlbmRzIFBhcnRpYWw8Q29tbWFuZE1vZHVsZUltcGxlbWVudGF0aW9uPiAmIHtcbiAgICBuZXcgKGNvbnRleHQ6IENvbW1hbmRDb250ZXh0KTogUGFydGlhbDxDb21tYW5kTW9kdWxlSW1wbGVtZW50YXRpb24+ICYgQ29tbWFuZE1vZHVsZTtcbiAgfSxcbj4obG9jYWxZYXJnczogQXJndjxUPiwgY29tbWFuZE1vZHVsZTogVSwgY29udGV4dDogQ29tbWFuZENvbnRleHQpOiBBcmd2PFQ+IHtcbiAgY29uc3QgY21kID0gbmV3IGNvbW1hbmRNb2R1bGUoY29udGV4dCk7XG4gIGNvbnN0IGRlc2NyaWJlID0gY29udGV4dC5hcmdzLm9wdGlvbnMuanNvbkhlbHAgPyBjbWQuZnVsbERlc2NyaWJlIDogY21kLmRlc2NyaWJlO1xuXG4gIHJldHVybiBsb2NhbFlhcmdzLmNvbW1hbmQoe1xuICAgIGNvbW1hbmQ6IGNtZC5jb21tYW5kLFxuICAgIGFsaWFzZXM6IGNtZC5hbGlhc2VzLFxuICAgIGRlc2NyaWJlOlxuICAgICAgLy8gV2UgY2Fubm90IGFkZCBjdXN0b20gZmllbGRzIGluIGhlbHAsIHN1Y2ggYXMgbG9uZyBjb21tYW5kIGRlc2NyaXB0aW9uIHdoaWNoIGlzIHVzZWQgaW4gQUlPLlxuICAgICAgLy8gVGhlcmVmb3JlLCB3ZSBnZXQgYXJvdW5kIHRoaXMgYnkgYWRkaW5nIGEgY29tcGxleCBvYmplY3QgYXMgYSBzdHJpbmcgd2hpY2ggd2UgbGF0ZXIgcGFyc2Ugd2hlbiBnZW5lcmF0aW5nIHRoZSBoZWxwIGZpbGVzLlxuICAgICAgdHlwZW9mIGRlc2NyaWJlID09PSAnb2JqZWN0JyA/IEpTT04uc3RyaW5naWZ5KGRlc2NyaWJlKSA6IGRlc2NyaWJlLFxuICAgIGRlcHJlY2F0ZWQ6IGNtZC5kZXByZWNhdGVkLFxuICAgIGJ1aWxkZXI6IChhcmd2KSA9PiBjbWQuYnVpbGRlcihhcmd2KSBhcyBBcmd2PFQ+LFxuICAgIGhhbmRsZXI6IChhcmdzKSA9PiBjbWQuaGFuZGxlcihhcmdzKSxcbiAgfSk7XG59XG4iXX0=